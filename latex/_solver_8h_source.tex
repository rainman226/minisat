\doxysection{Solver.\+h}
\hypertarget{_solver_8h_source}{}\label{_solver_8h_source}\index{code/minisat/core/Solver.h@{code/minisat/core/Solver.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/****************************************************************************************[Solver.h]}}
\DoxyCodeLine{00002\ \textcolor{comment}{Copyright\ (c)\ 2003-\/2006,\ Niklas\ Een,\ Niklas\ Sorensson}}
\DoxyCodeLine{00003\ \textcolor{comment}{Copyright\ (c)\ 2007-\/2010,\ Niklas\ Sorensson}}
\DoxyCodeLine{00004\ \textcolor{comment}{}}
\DoxyCodeLine{00005\ \textcolor{comment}{Permission\ is\ hereby\ granted,\ free\ of\ charge,\ to\ any\ person\ obtaining\ a\ copy\ of\ this\ software\ and}}
\DoxyCodeLine{00006\ \textcolor{comment}{associated\ documentation\ files\ (the\ "{}Software"{}),\ to\ deal\ in\ the\ Software\ without\ restriction,}}
\DoxyCodeLine{00007\ \textcolor{comment}{including\ without\ limitation\ the\ rights\ to\ use,\ copy,\ modify,\ merge,\ publish,\ distribute,}}
\DoxyCodeLine{00008\ \textcolor{comment}{sublicense,\ and/or\ sell\ copies\ of\ the\ Software,\ and\ to\ permit\ persons\ to\ whom\ the\ Software\ is}}
\DoxyCodeLine{00009\ \textcolor{comment}{furnished\ to\ do\ so,\ subject\ to\ the\ following\ conditions:}}
\DoxyCodeLine{00010\ \textcolor{comment}{}}
\DoxyCodeLine{00011\ \textcolor{comment}{The\ above\ copyright\ notice\ and\ this\ permission\ notice\ shall\ be\ included\ in\ all\ copies\ or}}
\DoxyCodeLine{00012\ \textcolor{comment}{substantial\ portions\ of\ the\ Software.}}
\DoxyCodeLine{00013\ \textcolor{comment}{}}
\DoxyCodeLine{00014\ \textcolor{comment}{THE\ SOFTWARE\ IS\ PROVIDED\ "{}AS\ IS"{},\ WITHOUT\ WARRANTY\ OF\ ANY\ KIND,\ EXPRESS\ OR\ IMPLIED,\ INCLUDING\ BUT}}
\DoxyCodeLine{00015\ \textcolor{comment}{NOT\ LIMITED\ TO\ THE\ WARRANTIES\ OF\ MERCHANTABILITY,\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE\ AND}}
\DoxyCodeLine{00016\ \textcolor{comment}{NONINFRINGEMENT.\ IN\ NO\ EVENT\ SHALL\ THE\ AUTHORS\ OR\ COPYRIGHT\ HOLDERS\ BE\ LIABLE\ FOR\ ANY\ CLAIM,}}
\DoxyCodeLine{00017\ \textcolor{comment}{DAMAGES\ OR\ OTHER\ LIABILITY,\ WHETHER\ IN\ AN\ ACTION\ OF\ CONTRACT,\ TORT\ OR\ OTHERWISE,\ ARISING\ FROM,\ OUT}}
\DoxyCodeLine{00018\ \textcolor{comment}{OF\ OR\ IN\ CONNECTION\ WITH\ THE\ SOFTWARE\ OR\ THE\ USE\ OR\ OTHER\ DEALINGS\ IN\ THE\ SOFTWARE.}}
\DoxyCodeLine{00019\ \textcolor{comment}{**************************************************************************************************/}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#ifndef\ Minisat\_Solver\_h}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#define\ Minisat\_Solver\_h}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}minisat/mtl/Vec.h"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}minisat/mtl/Heap.h"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}minisat/mtl/Alg.h"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}minisat/mtl/IntMap.h"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ "{}minisat/utils/Options.h"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ "{}minisat/core/SolverTypes.h"{}}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{keyword}{namespace\ }Minisat\ \{}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{comment}{//=================================================================================================}}
\DoxyCodeLine{00035\ \textcolor{comment}{//\ Solver\ -\/-\/\ the\ main\ class:}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{keyword}{class\ }Solver\ \{}
\DoxyCodeLine{00038\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{comment}{//\ Constructor/Destructor:}}
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00042\ \ \ \ \ Solver();}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keyword}{virtual}\ \string~Solver();}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{comment}{//\ Problem\ specification:}}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00047\ \ \ \ \ Var\ \ \ \ \ newVar\ \ \ \ (\mbox{\hyperlink{class_minisat_1_1lbool}{lbool}}\ upol\ =\ l\_Undef,\ \textcolor{keywordtype}{bool}\ dvar\ =\ \textcolor{keyword}{true});\ \textcolor{comment}{//\ Add\ a\ new\ variable\ with\ parameters\ specifying\ variable\ mode.}}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ releaseVar(\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ l);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Make\ literal\ true\ and\ promise\ to\ never\ refer\ to\ variable\ again.}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ addClause\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{class_minisat_1_1vec}{vec<Lit>}}\&\ ps);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Add\ a\ clause\ to\ the\ solver.\ }}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ addEmptyClause();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Add\ the\ empty\ clause,\ making\ the\ solver\ contradictory.}}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ addClause\ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Add\ a\ unit\ clause\ to\ the\ solver.\ }}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ addClause\ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ q);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Add\ a\ binary\ clause\ to\ the\ solver.\ }}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ addClause\ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ q,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ r);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Add\ a\ ternary\ clause\ to\ the\ solver.\ }}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ addClause\ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ q,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ r,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ s);\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Add\ a\ quaternary\ clause\ to\ the\ solver.\ }}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ addClause\_(\ \ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1vec}{vec<Lit>}}\&\ ps);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Add\ a\ clause\ to\ the\ solver\ without\ making\ superflous\ internal\ copy.\ Will}}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ change\ the\ passed\ vector\ 'ps'.}}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{comment}{//\ Solving:}}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ simplify\ \ \ \ \ ();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Removes\ already\ satisfied\ clauses.}}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ solve\ \ \ \ \ \ \ \ (\textcolor{keyword}{const}\ \mbox{\hyperlink{class_minisat_1_1vec}{vec<Lit>}}\&\ assumps);\ \textcolor{comment}{//\ Search\ for\ a\ model\ that\ respects\ a\ given\ set\ of\ assumptions.}}
\DoxyCodeLine{00063\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1lbool}{lbool}}\ \ \ solveLimited\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{class_minisat_1_1vec}{vec<Lit>}}\&\ assumps);\ \textcolor{comment}{//\ Search\ for\ a\ model\ that\ respects\ a\ given\ set\ of\ assumptions\ (With\ resource\ constraints).}}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ solve\ \ \ \ \ \ \ \ ();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Search\ without\ assumptions.}}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ solve\ \ \ \ \ \ \ \ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Search\ for\ a\ model\ that\ respects\ a\ single\ assumption.}}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ solve\ \ \ \ \ \ \ \ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ q);\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Search\ for\ a\ model\ that\ respects\ two\ assumptions.}}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ solve\ \ \ \ \ \ \ \ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ q,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ r);\ \ \ \ \ \textcolor{comment}{//\ Search\ for\ a\ model\ that\ respects\ three\ assumptions.}}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ okay\ \ \ \ \ \ \ \ \ ()\ \textcolor{keyword}{const};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ FALSE\ means\ solver\ is\ in\ a\ conflicting\ state}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ implies\ \ \ \ \ \ (\textcolor{keyword}{const}\ \mbox{\hyperlink{class_minisat_1_1vec}{vec<Lit>}}\&\ assumps,\ \mbox{\hyperlink{class_minisat_1_1vec}{vec<Lit>}}\&\ out);}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{comment}{//\ Iterate\ over\ clauses\ and\ top-\/level\ assignments:}}
\DoxyCodeLine{00073\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1_clause_iterator}{ClauseIterator}}\ clausesBegin()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00074\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1_clause_iterator}{ClauseIterator}}\ clausesEnd()\ \ \ \textcolor{keyword}{const};}
\DoxyCodeLine{00075\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1_trail_iterator}{TrailIterator}}\ \ trailBegin()\ \ \ \textcolor{keyword}{const};}
\DoxyCodeLine{00076\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1_trail_iterator}{TrailIterator}}\ \ trailEnd\ \ ()\ \ \ \textcolor{keyword}{const};}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ toDimacs\ \ \ \ \ (FILE*\ f,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_minisat_1_1vec}{vec<Lit>}}\&\ assumps);\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Write\ CNF\ to\ file\ in\ DIMACS-\/format.}}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ toDimacs\ \ \ \ \ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *file,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_minisat_1_1vec}{vec<Lit>}}\&\ assumps);}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ toDimacs\ \ \ \ \ (FILE*\ f,\ \mbox{\hyperlink{class_minisat_1_1_clause}{Clause}}\&\ c,\ \mbox{\hyperlink{class_minisat_1_1vec}{vec<Var>}}\&\ map,\ Var\&\ max);}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{comment}{//\ Convenience\ versions\ of\ 'toDimacs()':}}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ toDimacs\ \ \ \ \ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ file);}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ toDimacs\ \ \ \ \ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ file,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p);}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ toDimacs\ \ \ \ \ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ file,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ q);}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ toDimacs\ \ \ \ \ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ file,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ q,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ r);}
\DoxyCodeLine{00087\ \ \ \ \ }
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{comment}{//\ Variable\ mode:}}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{comment}{//\ }}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ setPolarity\ \ \ \ (Var\ v,\ \mbox{\hyperlink{class_minisat_1_1lbool}{lbool}}\ b);\ \textcolor{comment}{//\ Declare\ which\ polarity\ the\ decision\ heuristic\ should\ use\ for\ a\ variable.\ Requires\ mode\ 'polarity\_user'.}}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ setDecisionVar\ (Var\ v,\ \textcolor{keywordtype}{bool}\ b);\ \ \textcolor{comment}{//\ Declare\ if\ a\ variable\ should\ be\ eligible\ for\ selection\ in\ the\ decision\ heuristic.}}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{comment}{//\ Read\ state:}}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00095\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1lbool}{lbool}}\ \ \ value\ \ \ \ \ \ (Var\ x)\ \textcolor{keyword}{const};\ \ \ \ \ \ \ \textcolor{comment}{//\ The\ current\ value\ of\ a\ variable.}}
\DoxyCodeLine{00096\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1lbool}{lbool}}\ \ \ value\ \ \ \ \ \ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p)\ \textcolor{keyword}{const};\ \ \ \ \ \ \ \textcolor{comment}{//\ The\ current\ value\ of\ a\ literal.}}
\DoxyCodeLine{00097\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1lbool}{lbool}}\ \ \ modelValue\ (Var\ x)\ \textcolor{keyword}{const};\ \ \ \ \ \ \ \textcolor{comment}{//\ The\ value\ of\ a\ variable\ in\ the\ last\ model.\ The\ last\ call\ to\ solve\ must\ have\ been\ satisfiable.}}
\DoxyCodeLine{00098\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1lbool}{lbool}}\ \ \ modelValue\ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p)\ \textcolor{keyword}{const};\ \ \ \ \ \ \ \textcolor{comment}{//\ The\ value\ of\ a\ literal\ in\ the\ last\ model.\ The\ last\ call\ to\ solve\ must\ have\ been\ satisfiable.}}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ nAssigns\ \ \ ()\ \ \ \ \ \ \textcolor{keyword}{const};\ \ \ \ \ \ \ \textcolor{comment}{//\ The\ current\ number\ of\ assigned\ literals.}}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ nClauses\ \ \ ()\ \ \ \ \ \ \textcolor{keyword}{const};\ \ \ \ \ \ \ \textcolor{comment}{//\ The\ current\ number\ of\ original\ clauses.}}
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ nLearnts\ \ \ ()\ \ \ \ \ \ \textcolor{keyword}{const};\ \ \ \ \ \ \ \textcolor{comment}{//\ The\ current\ number\ of\ learnt\ clauses.}}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ nVars\ \ \ \ \ \ ()\ \ \ \ \ \ \textcolor{keyword}{const};\ \ \ \ \ \ \ \textcolor{comment}{//\ The\ current\ number\ of\ variables.}}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ nFreeVars\ \ ()\ \ \ \ \ \ \textcolor{keyword}{const};}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ printStats\ ()\ \ \ \ \ \ \textcolor{keyword}{const};\ \ \ \ \ \ \ \textcolor{comment}{//\ Print\ some\ current\ statistics\ to\ standard\ output.}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{comment}{//\ Resource\ contraints:}}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ setConfBudget(int64\_t\ x);}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ setPropBudget(int64\_t\ x);}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ budgetOff();}
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ interrupt();\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Trigger\ a\ (potentially\ asynchronous)\ interruption\ of\ the\ solver.}}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ clearInterrupt();\ \ \ \ \ \textcolor{comment}{//\ Clear\ interrupt\ indicator\ flag.}}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{comment}{//\ Memory\ managment:}}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ garbageCollect();}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ checkGarbage(\textcolor{keywordtype}{double}\ gf);}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ checkGarbage();}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{comment}{//\ Extra\ results:\ (read-\/only\ member\ variable)}}
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00122\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1vec}{vec<lbool>}}\ model;\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ problem\ is\ satisfiable,\ this\ vector\ contains\ the\ model\ (if\ any).}}
\DoxyCodeLine{00123\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1_l_set}{LSet}}\ \ \ \ \ \ \ conflict;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ problem\ is\ unsatisfiable\ (possibly\ under\ assumptions),}}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ this\ vector\ represent\ the\ final\ conflict\ clause\ expressed\ in\ the\ assumptions.}}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{comment}{//\ Mode\ of\ operation:}}
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ verbosity;}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ var\_decay;}
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ clause\_decay;}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ random\_var\_freq;}
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ random\_seed;}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ luby\_restart;}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ ccmin\_mode;\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Controls\ conflict\ clause\ minimization\ (0=none,\ 1=basic,\ 2=deep).}}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ phase\_saving;\ \ \ \ \ \ \ \textcolor{comment}{//\ Controls\ the\ level\ of\ phase\ saving\ (0=none,\ 1=limited,\ 2=full).}}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ rnd\_pol;\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Use\ random\ polarities\ for\ branching\ heuristics.}}
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ rnd\_init\_act;\ \ \ \ \ \ \ \textcolor{comment}{//\ Initialize\ variable\ activities\ with\ a\ small\ random\ value.}}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ garbage\_frac;\ \ \ \ \ \ \ \textcolor{comment}{//\ The\ fraction\ of\ wasted\ memory\ allowed\ before\ a\ garbage\ collection\ is\ triggered.}}
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ min\_learnts\_lim;\ \ \ \ \textcolor{comment}{//\ Minimum\ number\ to\ set\ the\ learnts\ limit\ to.}}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ restart\_first;\ \ \ \ \ \ \textcolor{comment}{//\ The\ initial\ restart\ limit.\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (default\ 100)}}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ restart\_inc;\ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ factor\ with\ which\ the\ restart\ limit\ is\ multiplied\ in\ each\ restart.\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (default\ 1.5)}}
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ learntsize\_factor;\ \ \textcolor{comment}{//\ The\ intitial\ limit\ for\ learnt\ clauses\ is\ a\ factor\ of\ the\ original\ clauses.\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (default\ 1\ /\ 3)}}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ learntsize\_inc;\ \ \ \ \ \textcolor{comment}{//\ The\ limit\ for\ learnt\ clauses\ is\ multiplied\ with\ this\ factor\ each\ restart.\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (default\ 1.1)}}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ learntsize\_adjust\_start\_confl;}
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ learntsize\_adjust\_inc;}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{comment}{//\ Statistics:\ (read-\/only\ member\ variable)}}
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00151\ \ \ \ \ uint64\_t\ solves,\ starts,\ decisions,\ rnd\_decisions,\ propagations,\ conflicts;}
\DoxyCodeLine{00152\ \ \ \ \ uint64\_t\ dec\_vars,\ num\_clauses,\ num\_learnts,\ clauses\_literals,\ learnts\_literals,\ max\_literals,\ tot\_literals;}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{comment}{//\ Helper\ structures:}}
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00158\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_minisat_1_1_solver_1_1_var_data}{VarData}}\ \{\ CRef\ reason;\ \textcolor{keywordtype}{int}\ level;\ \};}
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{struct_minisat_1_1_solver_1_1_var_data}{VarData}}\ mkVarData(CRef\ cr,\ \textcolor{keywordtype}{int}\ l)\{\ \mbox{\hyperlink{struct_minisat_1_1_solver_1_1_var_data}{VarData}}\ d\ =\ \{cr,\ l\};\ \textcolor{keywordflow}{return}\ d;\ \}}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keyword}{struct\ }Watcher\ \{}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ CRef\ cref;}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ \ blocker;}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ Watcher(CRef\ cr,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p)\ :\ cref(cr),\ blocker(p)\ \{\}}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ operator==(\textcolor{keyword}{const}\ Watcher\&\ w)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ cref\ ==\ w.cref;\ \}}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ operator!=(\textcolor{keyword}{const}\ Watcher\&\ w)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ cref\ !=\ w.cref;\ \}}
\DoxyCodeLine{00167\ \ \ \ \ \};}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keyword}{struct\ }WatcherDeleted}
\DoxyCodeLine{00170\ \ \ \ \ \{}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_minisat_1_1_clause_allocator}{ClauseAllocator}}\&\ ca;}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ WatcherDeleted(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_minisat_1_1_clause_allocator}{ClauseAllocator}}\&\ \_ca)\ :\ ca(\_ca)\ \{\}}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ operator()(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_minisat_1_1_solver_1_1_watcher}{Watcher}}\&\ w)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ ca[w.cref].mark()\ ==\ 1;\ \}}
\DoxyCodeLine{00174\ \ \ \ \ \};}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{keyword}{struct\ }VarOrderLt\ \{}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_minisat_1_1_int_map}{IntMap<Var,\ double>}}\&\ \ activity;}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ operator\ ()\ (Var\ x,\ Var\ y)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ activity[x]\ >\ activity[y];\ \}}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ VarOrderLt(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_minisat_1_1_int_map}{IntMap<Var,\ double>}}\&\ \ act)\ :\ activity(act)\ \{\ \}}
\DoxyCodeLine{00180\ \ \ \ \ \};}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{keyword}{struct\ }ShrinkStackElem\ \{}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ uint32\_t\ i;}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ \ \ \ \ \ l;}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ ShrinkStackElem(uint32\_t\ \_i,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ \_l)\ :\ i(\_i),\ l(\_l)\{\}}
\DoxyCodeLine{00186\ \ \ \ \ \};}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{comment}{//\ Solver\ state:}}
\DoxyCodeLine{00189\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00190\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1vec}{vec<CRef>}}\ \ \ \ \ \ \ \ \ \ \ clauses;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ List\ of\ problem\ clauses.}}
\DoxyCodeLine{00191\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1vec}{vec<CRef>}}\ \ \ \ \ \ \ \ \ \ \ learnts;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ List\ of\ learnt\ clauses.}}
\DoxyCodeLine{00192\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1vec}{vec<Lit>}}\ \ \ \ \ \ \ \ \ \ \ \ trail;\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Assignment\ stack;\ stores\ all\ assigments\ made\ in\ the\ order\ they\ were\ made.}}
\DoxyCodeLine{00193\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1vec}{vec<int>}}\ \ \ \ \ \ \ \ \ \ \ \ trail\_lim;\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Separator\ indices\ for\ different\ decision\ levels\ in\ 'trail'.}}
\DoxyCodeLine{00194\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1vec}{vec<Lit>}}\ \ \ \ \ \ \ \ \ \ \ \ assumptions;\ \ \ \ \ \ \textcolor{comment}{//\ Current\ set\ of\ assumptions\ provided\ to\ solve\ by\ the\ user.}}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1_v_map}{VMap<double>}}\ \ \ \ \ \ \ \ activity;\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ A\ heuristic\ measurement\ of\ the\ activity\ of\ a\ variable.}}
\DoxyCodeLine{00197\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1_v_map}{VMap<lbool>}}\ \ \ \ \ \ \ \ \ assigns;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ current\ assignments.}}
\DoxyCodeLine{00198\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1_v_map}{VMap<char>}}\ \ \ \ \ \ \ \ \ \ polarity;\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ preferred\ polarity\ of\ each\ variable.}}
\DoxyCodeLine{00199\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1_v_map}{VMap<lbool>}}\ \ \ \ \ \ \ \ \ user\_pol;\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ users\ preferred\ polarity\ of\ each\ variable.}}
\DoxyCodeLine{00200\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1_v_map}{VMap<char>}}\ \ \ \ \ \ \ \ \ \ decision;\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Declares\ if\ a\ variable\ is\ eligible\ for\ selection\ in\ the\ decision\ heuristic.}}
\DoxyCodeLine{00201\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1_v_map}{VMap<VarData>}}\ \ \ \ \ \ \ vardata;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Stores\ reason\ and\ level\ for\ each\ variable.}}
\DoxyCodeLine{00202\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1_occ_lists}{OccLists<Lit,\ vec<Watcher>}},\ \mbox{\hyperlink{struct_minisat_1_1_solver_1_1_watcher_deleted}{WatcherDeleted}},\ \mbox{\hyperlink{struct_minisat_1_1_mk_index_lit}{MkIndexLit}}>}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ watches;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 'watches[lit]'\ is\ a\ list\ of\ constraints\ watching\ 'lit'\ (will\ go\ there\ if\ literal\ becomes\ true).}}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1_heap}{Heap<Var,VarOrderLt>}}order\_heap;\ \ \ \ \ \ \ \textcolor{comment}{//\ A\ priority\ queue\ of\ variables\ ordered\ with\ respect\ to\ the\ variable\ activity.}}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ok;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ FALSE,\ the\ constraints\ are\ already\ unsatisfiable.\ No\ part\ of\ the\ solver\ state\ may\ be\ used!}}
\DoxyCodeLine{00208\ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ \ \ \ \ \ \ \ \ \ \ cla\_inc;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Amount\ to\ bump\ next\ clause\ with.}}
\DoxyCodeLine{00209\ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ \ \ \ \ \ \ \ \ \ \ var\_inc;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Amount\ to\ bump\ next\ variable\ with.}}
\DoxyCodeLine{00210\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ qhead;\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Head\ of\ queue\ (as\ index\ into\ the\ trail\ -\/-\/\ no\ more\ explicit\ propagation\ queue\ in\ MiniSat).}}
\DoxyCodeLine{00211\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ simpDB\_assigns;\ \ \ \textcolor{comment}{//\ Number\ of\ top-\/level\ assignments\ since\ last\ execution\ of\ 'simplify()'.}}
\DoxyCodeLine{00212\ \ \ \ \ int64\_t\ \ \ \ \ \ \ \ \ \ \ \ \ simpDB\_props;\ \ \ \ \ \textcolor{comment}{//\ Remaining\ number\ of\ propagations\ that\ must\ be\ made\ before\ next\ execution\ of\ 'simplify()'.}}
\DoxyCodeLine{00213\ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ \ \ \ \ \ \ \ \ \ \ progress\_estimate;\textcolor{comment}{//\ Set\ by\ 'search()'.}}
\DoxyCodeLine{00214\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ remove\_satisfied;\ \textcolor{comment}{//\ Indicates\ whether\ possibly\ inefficient\ linear\ scan\ for\ satisfied\ clauses\ should\ be\ performed\ in\ 'simplify'.}}
\DoxyCodeLine{00215\ \ \ \ \ Var\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ next\_var;\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Next\ variable\ to\ be\ created.}}
\DoxyCodeLine{00216\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1_clause_allocator}{ClauseAllocator}}\ \ \ \ \ ca;}
\DoxyCodeLine{00217\ }
\DoxyCodeLine{00218\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1vec}{vec<Var>}}\ \ \ \ \ \ \ \ \ \ \ \ released\_vars;}
\DoxyCodeLine{00219\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1vec}{vec<Var>}}\ \ \ \ \ \ \ \ \ \ \ \ free\_vars;}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \ \ \ \ \textcolor{comment}{//\ Temporaries\ (to\ reduce\ allocation\ overhead).\ Each\ variable\ is\ prefixed\ by\ the\ method\ in\ which\ it\ is}}
\DoxyCodeLine{00222\ \ \ \ \ \textcolor{comment}{//\ used,\ exept\ 'seen'\ wich\ is\ used\ in\ several\ places.}}
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00224\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1_v_map}{VMap<char>}}\ \ \ \ \ \ \ \ \ \ seen;}
\DoxyCodeLine{00225\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1vec}{vec<ShrinkStackElem>}}analyze\_stack;}
\DoxyCodeLine{00226\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1vec}{vec<Lit>}}\ \ \ \ \ \ \ \ \ \ \ \ analyze\_toclear;}
\DoxyCodeLine{00227\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1vec}{vec<Lit>}}\ \ \ \ \ \ \ \ \ \ \ \ add\_tmp;}
\DoxyCodeLine{00228\ }
\DoxyCodeLine{00229\ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ \ \ \ \ \ \ \ \ \ \ max\_learnts;}
\DoxyCodeLine{00230\ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ \ \ \ \ \ \ \ \ \ \ \ learntsize\_adjust\_confl;}
\DoxyCodeLine{00231\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ learntsize\_adjust\_cnt;}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00233\ \ \ \ \ \textcolor{comment}{//\ Resource\ contraints:}}
\DoxyCodeLine{00234\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00235\ \ \ \ \ int64\_t\ \ \ \ \ \ \ \ \ \ \ \ \ conflict\_budget;\ \ \ \ \textcolor{comment}{//\ -\/1\ means\ no\ budget.}}
\DoxyCodeLine{00236\ \ \ \ \ int64\_t\ \ \ \ \ \ \ \ \ \ \ \ \ propagation\_budget;\ \textcolor{comment}{//\ -\/1\ means\ no\ budget.}}
\DoxyCodeLine{00237\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ asynch\_interrupt;}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \ \ \ \ \textcolor{comment}{//\ Main\ internal\ methods:}}
\DoxyCodeLine{00240\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00241\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ insertVarOrder\ \ \ (Var\ x);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Insert\ a\ variable\ in\ the\ decision\ order\ priority\ queue.}}
\DoxyCodeLine{00242\ \ \ \ \ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ \ \ \ \ \ pickBranchLit\ \ \ \ ();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Return\ the\ next\ decision\ variable.}}
\DoxyCodeLine{00243\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ newDecisionLevel\ ();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Begins\ a\ new\ decision\ level.}}
\DoxyCodeLine{00244\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ uncheckedEnqueue\ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p,\ CRef\ from\ =\ CRef\_Undef);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Enqueue\ a\ literal.\ Assumes\ value\ of\ literal\ is\ undefined.}}
\DoxyCodeLine{00245\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ enqueue\ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p,\ CRef\ from\ =\ CRef\_Undef);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Test\ if\ fact\ 'p'\ contradicts\ current\ state,\ enqueue\ otherwise.}}
\DoxyCodeLine{00246\ \ \ \ \ CRef\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1_solver_a152b3ab287308a53e677f73c5cc79157}{propagate}}\ \ \ \ \ \ \ \ ();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Perform\ unit\ propagation.\ Returns\ possibly\ conflicting\ clause.}}
\DoxyCodeLine{00247\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ cancelUntil\ \ \ \ \ \ (\textcolor{keywordtype}{int}\ level);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Backtrack\ until\ a\ certain\ level.}}
\DoxyCodeLine{00248\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1_solver_a6d3e78b95132a09eaa210f514571e9aa}{analyze}}\ \ \ \ \ \ \ \ \ \ (CRef\ confl,\ \mbox{\hyperlink{class_minisat_1_1vec}{vec<Lit>}}\&\ out\_learnt,\ \textcolor{keywordtype}{int}\&\ out\_btlevel);\ \ \ \ \textcolor{comment}{//\ (bt\ =\ backtrack)}}
\DoxyCodeLine{00249\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ analyzeFinal\ \ \ \ \ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p,\ \mbox{\hyperlink{class_minisat_1_1_l_set}{LSet}}\&\ out\_conflict);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ COULD\ THIS\ BE\ IMPLEMENTED\ BY\ THE\ ORDINARIY\ "{}analyze"{}\ BY\ SOME\ REASONABLE\ GENERALIZATION?}}
\DoxyCodeLine{00250\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ litRedundant\ \ \ \ \ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ (helper\ method\ for\ 'analyze()')}}
\DoxyCodeLine{00251\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1lbool}{lbool}}\ \ \ \ \mbox{\hyperlink{class_minisat_1_1_solver_a16eaedf9b9c2d13d4ff5e93f759cfcf6}{search}}\ \ \ \ \ \ \ \ \ \ \ (\textcolor{keywordtype}{int}\ nof\_conflicts);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Search\ for\ a\ given\ number\ of\ conflicts.}}
\DoxyCodeLine{00252\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1lbool}{lbool}}\ \ \ \ solve\_\ \ \ \ \ \ \ \ \ \ \ ();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Main\ solve\ method\ (assumptions\ given\ in\ 'assumptions').}}
\DoxyCodeLine{00253\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ \mbox{\hyperlink{class_minisat_1_1_solver_a62eea2c00917497fbfb843bf9ca4482e}{reduceDB}}\ \ \ \ \ \ \ \ \ ();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Reduce\ the\ set\ of\ learnt\ clauses.}}
\DoxyCodeLine{00254\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ removeSatisfied\ \ (\mbox{\hyperlink{class_minisat_1_1vec}{vec<CRef>}}\&\ cs);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Shrink\ 'cs'\ to\ contain\ only\ non-\/satisfied\ clauses.}}
\DoxyCodeLine{00255\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ rebuildOrderHeap\ ();}
\DoxyCodeLine{00256\ }
\DoxyCodeLine{00257\ \ \ \ \ \textcolor{comment}{//\ Maintaining\ Variable/Clause\ activity:}}
\DoxyCodeLine{00258\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00259\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ varDecayActivity\ ();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Decay\ all\ variables\ with\ the\ specified\ factor.\ Implemented\ by\ increasing\ the\ 'bump'\ value\ instead.}}
\DoxyCodeLine{00260\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ varBumpActivity\ \ (Var\ v,\ \textcolor{keywordtype}{double}\ inc);\ \ \ \ \ \textcolor{comment}{//\ Increase\ a\ variable\ with\ the\ current\ 'bump'\ value.}}
\DoxyCodeLine{00261\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ varBumpActivity\ \ (Var\ v);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Increase\ a\ variable\ with\ the\ current\ 'bump'\ value.}}
\DoxyCodeLine{00262\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ claDecayActivity\ ();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Decay\ all\ clauses\ with\ the\ specified\ factor.\ Implemented\ by\ increasing\ the\ 'bump'\ value\ instead.}}
\DoxyCodeLine{00263\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ claBumpActivity\ \ (\mbox{\hyperlink{class_minisat_1_1_clause}{Clause}}\&\ c);\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Increase\ a\ clause\ with\ the\ current\ 'bump'\ value.}}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00265\ \ \ \ \ \textcolor{comment}{//\ Operations\ on\ clauses:}}
\DoxyCodeLine{00266\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00267\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ attachClause\ \ \ \ \ (CRef\ cr);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Attach\ a\ clause\ to\ watcher\ lists.}}
\DoxyCodeLine{00268\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ detachClause\ \ \ \ \ (CRef\ cr,\ \textcolor{keywordtype}{bool}\ strict\ =\ \textcolor{keyword}{false});\ \textcolor{comment}{//\ Detach\ a\ clause\ to\ watcher\ lists.}}
\DoxyCodeLine{00269\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ removeClause\ \ \ \ \ (CRef\ cr);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Detach\ and\ free\ a\ clause.}}
\DoxyCodeLine{00270\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ isRemoved\ \ \ \ \ \ \ \ (CRef\ cr)\ \textcolor{keyword}{const};\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Test\ if\ a\ clause\ has\ been\ removed.}}
\DoxyCodeLine{00271\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ locked\ \ \ \ \ \ \ \ \ \ \ (\textcolor{keyword}{const}\ \mbox{\hyperlink{class_minisat_1_1_clause}{Clause}}\&\ c)\ \textcolor{keyword}{const};\ \textcolor{comment}{//\ Returns\ TRUE\ if\ a\ clause\ is\ a\ reason\ for\ some\ implication\ in\ the\ current\ state.}}
\DoxyCodeLine{00272\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ satisfied\ \ \ \ \ \ \ \ (\textcolor{keyword}{const}\ \mbox{\hyperlink{class_minisat_1_1_clause}{Clause}}\&\ c)\ \textcolor{keyword}{const};\ \textcolor{comment}{//\ Returns\ TRUE\ if\ a\ clause\ is\ satisfied\ in\ the\ current\ state.}}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00274\ \ \ \ \ \textcolor{comment}{//\ Misc:}}
\DoxyCodeLine{00275\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00276\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ decisionLevel\ \ \ \ ()\ \ \ \ \ \ \textcolor{keyword}{const};\ \textcolor{comment}{//\ Gives\ the\ current\ decisionlevel.}}
\DoxyCodeLine{00277\ \ \ \ \ uint32\_t\ abstractLevel\ \ \ \ (Var\ x)\ \textcolor{keyword}{const};\ \textcolor{comment}{//\ Used\ to\ represent\ an\ abstraction\ of\ sets\ of\ decision\ levels.}}
\DoxyCodeLine{00278\ \ \ \ \ CRef\ \ \ \ \ reason\ \ \ \ \ \ \ \ \ \ \ (Var\ x)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00279\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ level\ \ \ \ \ \ \ \ \ \ \ \ (Var\ x)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00280\ \ \ \ \ \textcolor{keywordtype}{double}\ \ \ progressEstimate\ ()\ \ \ \ \ \ \textcolor{keyword}{const};\ \textcolor{comment}{//\ DELETE\ THIS\ ??\ IT'S\ NOT\ VERY\ USEFUL\ ...}}
\DoxyCodeLine{00281\ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ withinBudget\ \ \ \ \ ()\ \ \ \ \ \ \textcolor{keyword}{const};}
\DoxyCodeLine{00282\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ relocAll\ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{class_minisat_1_1_clause_allocator}{ClauseAllocator}}\&\ to);}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \ \ \ \ \textcolor{comment}{//\ Static\ helpers:}}
\DoxyCodeLine{00285\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00287\ \ \ \ \ \textcolor{comment}{//\ Returns\ a\ random\ float\ 0\ <=\ x\ <\ 1.\ Seed\ must\ never\ be\ 0.}}
\DoxyCodeLine{00288\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{double}\ drand(\textcolor{keywordtype}{double}\&\ seed)\ \{}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ seed\ *=\ 1389796;}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ q\ =\ (int)(seed\ /\ 2147483647);}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ seed\ -\/=\ (double)q\ *\ 2147483647;}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ seed\ /\ 2147483647;\ \}}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00294\ \ \ \ \ \textcolor{comment}{//\ Returns\ a\ random\ integer\ 0\ <=\ x\ <\ size.\ Seed\ must\ never\ be\ 0.}}
\DoxyCodeLine{00295\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ irand(\textcolor{keywordtype}{double}\&\ seed,\ \textcolor{keywordtype}{int}\ size)\ \{}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{int})(drand(seed)\ *\ size);\ \}}
\DoxyCodeLine{00297\ \};}
\DoxyCodeLine{00298\ }
\DoxyCodeLine{00299\ }
\DoxyCodeLine{00300\ \textcolor{comment}{//=================================================================================================}}
\DoxyCodeLine{00301\ \textcolor{comment}{//\ Implementation\ of\ inline\ methods:}}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00303\ \textcolor{keyword}{inline}\ CRef\ Solver::reason(Var\ x)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ vardata[x].reason;\ \}}
\DoxyCodeLine{00304\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \ Solver::level\ (Var\ x)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ vardata[x].level;\ \}}
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00306\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ Solver::insertVarOrder(Var\ x)\ \{}
\DoxyCodeLine{00307\ \ \ \ \ \textcolor{keywordflow}{if}\ (!order\_heap.inHeap(x)\ \&\&\ decision[x])\ order\_heap.insert(x);\ \}}
\DoxyCodeLine{00308\ }
\DoxyCodeLine{00309\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ Solver::varDecayActivity()\ \{\ var\_inc\ *=\ (1\ /\ var\_decay);\ \}}
\DoxyCodeLine{00310\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ Solver::varBumpActivity(Var\ v)\ \{\ varBumpActivity(v,\ var\_inc);\ \}}
\DoxyCodeLine{00311\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ Solver::varBumpActivity(Var\ v,\ \textcolor{keywordtype}{double}\ inc)\ \{}
\DoxyCodeLine{00312\ \ \ \ \ \textcolor{keywordflow}{if}\ (\ (activity[v]\ +=\ inc)\ >\ 1e100\ )\ \{}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Rescale:}}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ nVars();\ i++)}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \ \ \ \ activity[i]\ *=\ 1e-\/100;}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ var\_inc\ *=\ 1e-\/100;\ \}}
\DoxyCodeLine{00317\ }
\DoxyCodeLine{00318\ \ \ \ \ \textcolor{comment}{//\ Update\ order\_heap\ with\ respect\ to\ new\ activity:}}
\DoxyCodeLine{00319\ \ \ \ \ \textcolor{keywordflow}{if}\ (order\_heap.inHeap(v))}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ order\_heap.decrease(v);\ \}}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ Solver::claDecayActivity()\ \{\ cla\_inc\ *=\ (1\ /\ clause\_decay);\ \}}
\DoxyCodeLine{00323\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ Solver::claBumpActivity\ (\mbox{\hyperlink{class_minisat_1_1_clause}{Clause}}\&\ c)\ \{}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ (c.activity()\ +=\ cla\_inc)\ >\ 1e20\ )\ \{}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Rescale:}}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ learnts.size();\ i++)}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ca[learnts[i]].activity()\ *=\ 1e-\/20;}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \ \ \ \ cla\_inc\ *=\ 1e-\/20;\ \}\ \}}
\DoxyCodeLine{00329\ }
\DoxyCodeLine{00330\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ Solver::checkGarbage(\textcolor{keywordtype}{void})\{\ \textcolor{keywordflow}{return}\ checkGarbage(garbage\_frac);\ \}}
\DoxyCodeLine{00331\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ Solver::checkGarbage(\textcolor{keywordtype}{double}\ gf)\{}
\DoxyCodeLine{00332\ \ \ \ \ \textcolor{keywordflow}{if}\ (ca.wasted()\ >\ ca.size()\ *\ gf)}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ garbageCollect();\ \}}
\DoxyCodeLine{00334\ }
\DoxyCodeLine{00335\ \textcolor{comment}{//\ NOTE:\ enqueue\ does\ not\ set\ the\ ok\ flag!\ (only\ public\ methods\ do)}}
\DoxyCodeLine{00336\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ Solver::enqueue\ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p,\ CRef\ from)\ \ \ \ \ \ \{\ \textcolor{keywordflow}{return}\ value(p)\ !=\ l\_Undef\ ?\ value(p)\ !=\ l\_False\ :\ (uncheckedEnqueue(p,\ from),\ \textcolor{keyword}{true});\ \}}
\DoxyCodeLine{00337\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ Solver::addClause\ \ \ \ \ \ \ (\textcolor{keyword}{const}\ \mbox{\hyperlink{class_minisat_1_1vec}{vec<Lit>}}\&\ ps)\ \ \ \ \{\ ps.copyTo(add\_tmp);\ \textcolor{keywordflow}{return}\ addClause\_(add\_tmp);\ \}}
\DoxyCodeLine{00338\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ Solver::addEmptyClause\ \ ()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ add\_tmp.clear();\ \textcolor{keywordflow}{return}\ addClause\_(add\_tmp);\ \}}
\DoxyCodeLine{00339\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ Solver::addClause\ \ \ \ \ \ \ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ add\_tmp.clear();\ add\_tmp.push(p);\ \textcolor{keywordflow}{return}\ addClause\_(add\_tmp);\ \}}
\DoxyCodeLine{00340\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ Solver::addClause\ \ \ \ \ \ \ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ q)\ \ \ \ \ \ \ \ \ \ \{\ add\_tmp.clear();\ add\_tmp.push(p);\ add\_tmp.push(q);\ \textcolor{keywordflow}{return}\ addClause\_(add\_tmp);\ \}}
\DoxyCodeLine{00341\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ Solver::addClause\ \ \ \ \ \ \ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ q,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ r)\ \ \ \{\ add\_tmp.clear();\ add\_tmp.push(p);\ add\_tmp.push(q);\ add\_tmp.push(r);\ \textcolor{keywordflow}{return}\ addClause\_(add\_tmp);\ \}}
\DoxyCodeLine{00342\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ Solver::addClause\ \ \ \ \ \ \ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ q,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ r,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ s)\{\ add\_tmp.clear();\ add\_tmp.push(p);\ add\_tmp.push(q);\ add\_tmp.push(r);\ add\_tmp.push(s);\ \textcolor{keywordflow}{return}\ addClause\_(add\_tmp);\ \}}
\DoxyCodeLine{00343\ }
\DoxyCodeLine{00344\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ Solver::isRemoved\ \ \ \ \ \ \ (CRef\ cr)\textcolor{keyword}{\ \ \ \ \ \ \ \ \ const\ }\{\ \textcolor{keywordflow}{return}\ ca[cr].mark()\ ==\ 1;\ \}}
\DoxyCodeLine{00345\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ Solver::locked\ \ \ \ \ \ \ \ \ \ (\textcolor{keyword}{const}\ \mbox{\hyperlink{class_minisat_1_1_clause}{Clause}}\&\ c)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ value(c[0])\ ==\ l\_True\ \&\&\ reason(var(c[0]))\ !=\ CRef\_Undef\ \&\&\ ca.lea(reason(var(c[0])))\ ==\ \&c;\ \}}
\DoxyCodeLine{00346\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \ \ Solver::newDecisionLevel()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ trail\_lim.push(trail.size());\ \}}
\DoxyCodeLine{00347\ }
\DoxyCodeLine{00348\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \ \ \ \ \ Solver::decisionLevel\ ()\textcolor{keyword}{\ \ \ \ \ \ const\ \ \ }\{\ \textcolor{keywordflow}{return}\ trail\_lim.size();\ \}}
\DoxyCodeLine{00349\ \textcolor{keyword}{inline}\ uint32\_t\ Solver::abstractLevel\ (Var\ x)\textcolor{keyword}{\ const\ \ \ }\{\ \textcolor{keywordflow}{return}\ 1\ <<\ (level(x)\ \&\ 31);\ \}}
\DoxyCodeLine{00350\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_minisat_1_1lbool}{lbool}}\ \ \ \ Solver::value\ \ \ \ \ \ \ \ \ (Var\ x)\textcolor{keyword}{\ const\ \ \ }\{\ \textcolor{keywordflow}{return}\ assigns[x];\ \}}
\DoxyCodeLine{00351\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_minisat_1_1lbool}{lbool}}\ \ \ \ Solver::value\ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p)\textcolor{keyword}{\ const\ \ \ }\{\ \textcolor{keywordflow}{return}\ assigns[var(p)]\ \string^\ sign(p);\ \}}
\DoxyCodeLine{00352\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_minisat_1_1lbool}{lbool}}\ \ \ \ Solver::modelValue\ \ \ \ (Var\ x)\textcolor{keyword}{\ const\ \ \ }\{\ \textcolor{keywordflow}{return}\ model[x];\ \}}
\DoxyCodeLine{00353\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_minisat_1_1lbool}{lbool}}\ \ \ \ Solver::modelValue\ \ \ \ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p)\textcolor{keyword}{\ const\ \ \ }\{\ \textcolor{keywordflow}{return}\ model[var(p)]\ \string^\ sign(p);\ \}}
\DoxyCodeLine{00354\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \ \ \ \ \ Solver::nAssigns\ \ \ \ \ \ ()\textcolor{keyword}{\ \ \ \ \ \ const\ \ \ }\{\ \textcolor{keywordflow}{return}\ trail.size();\ \}}
\DoxyCodeLine{00355\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \ \ \ \ \ Solver::nClauses\ \ \ \ \ \ ()\textcolor{keyword}{\ \ \ \ \ \ const\ \ \ }\{\ \textcolor{keywordflow}{return}\ num\_clauses;\ \}}
\DoxyCodeLine{00356\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \ \ \ \ \ Solver::nLearnts\ \ \ \ \ \ ()\textcolor{keyword}{\ \ \ \ \ \ const\ \ \ }\{\ \textcolor{keywordflow}{return}\ num\_learnts;\ \}}
\DoxyCodeLine{00357\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \ \ \ \ \ Solver::nVars\ \ \ \ \ \ \ \ \ ()\textcolor{keyword}{\ \ \ \ \ \ const\ \ \ }\{\ \textcolor{keywordflow}{return}\ next\_var;\ \}}
\DoxyCodeLine{00358\ \textcolor{comment}{//\ TODO:\ nFreeVars()\ is\ not\ quite\ correct,\ try\ to\ calculate\ right\ instead\ of\ adapting\ it\ like\ below:}}
\DoxyCodeLine{00359\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \ \ \ \ \ Solver::nFreeVars\ \ \ \ \ ()\textcolor{keyword}{\ \ \ \ \ \ const\ \ \ }\{\ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{int})dec\_vars\ -\/\ (trail\_lim.size()\ ==\ 0\ ?\ trail.size()\ :\ trail\_lim[0]);\ \}}
\DoxyCodeLine{00360\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \ \ Solver::setPolarity\ \ \ (Var\ v,\ \mbox{\hyperlink{class_minisat_1_1lbool}{lbool}}\ b)\{\ user\_pol[v]\ =\ b;\ \}}
\DoxyCodeLine{00361\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \ \ Solver::setDecisionVar(Var\ v,\ \textcolor{keywordtype}{bool}\ b)\ }
\DoxyCodeLine{00362\ \{\ }
\DoxyCodeLine{00363\ \ \ \ \ \textcolor{keywordflow}{if}\ \ \ \ \ \ (\ b\ \&\&\ !decision[v])\ dec\_vars++;}
\DoxyCodeLine{00364\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!b\ \&\&\ \ decision[v])\ dec\_vars-\/-\/;}
\DoxyCodeLine{00365\ }
\DoxyCodeLine{00366\ \ \ \ \ decision[v]\ =\ b;}
\DoxyCodeLine{00367\ \ \ \ \ insertVarOrder(v);}
\DoxyCodeLine{00368\ \}}
\DoxyCodeLine{00369\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \ \ Solver::setConfBudget(int64\_t\ x)\{\ conflict\_budget\ \ \ \ =\ conflicts\ \ \ \ +\ x;\ \}}
\DoxyCodeLine{00370\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \ \ Solver::setPropBudget(int64\_t\ x)\{\ propagation\_budget\ =\ propagations\ +\ x;\ \}}
\DoxyCodeLine{00371\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \ \ Solver::interrupt()\{\ asynch\_interrupt\ =\ \textcolor{keyword}{true};\ \}}
\DoxyCodeLine{00372\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \ \ Solver::clearInterrupt()\{\ asynch\_interrupt\ =\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{00373\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \ \ Solver::budgetOff()\{\ conflict\_budget\ =\ propagation\_budget\ =\ -\/1;\ \}}
\DoxyCodeLine{00374\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ Solver::withinBudget()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00375\ \ \ \ \ \textcolor{keywordflow}{return}\ !asynch\_interrupt\ \&\&}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \ \ \ (conflict\_budget\ \ \ \ <\ 0\ ||\ conflicts\ <\ (uint64\_t)conflict\_budget)\ \&\&}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \ \ \ (propagation\_budget\ <\ 0\ ||\ propagations\ <\ (uint64\_t)propagation\_budget);\ \}}
\DoxyCodeLine{00378\ }
\DoxyCodeLine{00379\ \textcolor{comment}{//\ FIXME:\ after\ the\ introduction\ of\ asynchronous\ interrruptions\ the\ solve-\/versions\ that\ return\ a}}
\DoxyCodeLine{00380\ \textcolor{comment}{//\ pure\ bool\ do\ not\ give\ a\ safe\ interface.\ Either\ interrupts\ must\ be\ possible\ to\ turn\ off\ here,\ or}}
\DoxyCodeLine{00381\ \textcolor{comment}{//\ all\ calls\ to\ solve\ must\ return\ an\ 'lbool'.\ I'm\ not\ yet\ sure\ which\ I\ prefer.}}
\DoxyCodeLine{00382\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ Solver::solve\ \ \ \ \ \ \ \ \ ()\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ budgetOff();\ assumptions.clear();\ \textcolor{keywordflow}{return}\ solve\_()\ ==\ l\_True;\ \}}
\DoxyCodeLine{00383\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ Solver::solve\ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ budgetOff();\ assumptions.clear();\ assumptions.push(p);\ \textcolor{keywordflow}{return}\ solve\_()\ ==\ l\_True;\ \}}
\DoxyCodeLine{00384\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ Solver::solve\ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ q)\ \ \ \ \ \ \ \ \{\ budgetOff();\ assumptions.clear();\ assumptions.push(p);\ assumptions.push(q);\ \textcolor{keywordflow}{return}\ solve\_()\ ==\ l\_True;\ \}}
\DoxyCodeLine{00385\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ Solver::solve\ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ q,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ r)\ \{\ budgetOff();\ assumptions.clear();\ assumptions.push(p);\ assumptions.push(q);\ assumptions.push(r);\ \textcolor{keywordflow}{return}\ solve\_()\ ==\ l\_True;\ \}}
\DoxyCodeLine{00386\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ Solver::solve\ \ \ \ \ \ \ \ \ (\textcolor{keyword}{const}\ \mbox{\hyperlink{class_minisat_1_1vec}{vec<Lit>}}\&\ assumps)\{\ budgetOff();\ assumps.copyTo(assumptions);\ \textcolor{keywordflow}{return}\ solve\_()\ ==\ l\_True;\ \}}
\DoxyCodeLine{00387\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_minisat_1_1lbool}{lbool}}\ \ \ \ Solver::solveLimited\ \ (\textcolor{keyword}{const}\ \mbox{\hyperlink{class_minisat_1_1vec}{vec<Lit>}}\&\ assumps)\{\ assumps.copyTo(assumptions);\ \textcolor{keywordflow}{return}\ solve\_();\ \}}
\DoxyCodeLine{00388\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \ \ \ \ Solver::okay\ \ \ \ \ \ \ \ \ \ ()\textcolor{keyword}{\ \ \ \ \ \ const\ \ \ }\{\ \textcolor{keywordflow}{return}\ ok;\ \}}
\DoxyCodeLine{00389\ }
\DoxyCodeLine{00390\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_minisat_1_1_clause_iterator}{ClauseIterator}}\ Solver::clausesBegin()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ ClauseIterator(ca,\ \&clauses[0]);\ \}}
\DoxyCodeLine{00391\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_minisat_1_1_clause_iterator}{ClauseIterator}}\ Solver::clausesEnd\ \ ()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ ClauseIterator(ca,\ \&clauses[clauses.size()]);\ \}}
\DoxyCodeLine{00392\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_minisat_1_1_trail_iterator}{TrailIterator}}\ \ Solver::trailBegin\ \ ()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ TrailIterator(\&trail[0]);\ \}}
\DoxyCodeLine{00393\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_minisat_1_1_trail_iterator}{TrailIterator}}\ \ Solver::trailEnd\ \ \ \ ()\textcolor{keyword}{\ const\ }\{\ }
\DoxyCodeLine{00394\ \ \ \ \ \textcolor{keywordflow}{return}\ TrailIterator(\&trail[decisionLevel()\ ==\ 0\ ?\ trail.size()\ :\ trail\_lim[0]]);\ \}}
\DoxyCodeLine{00395\ }
\DoxyCodeLine{00396\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \ \ Solver::toDimacs\ \ \ \ \ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ file)\{\ vec<Lit>\ as;\ toDimacs(file,\ as);\ \}}
\DoxyCodeLine{00397\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \ \ Solver::toDimacs\ \ \ \ \ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ file,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p)\{\ vec<Lit>\ as;\ as.push(p);\ toDimacs(file,\ as);\ \}}
\DoxyCodeLine{00398\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \ \ Solver::toDimacs\ \ \ \ \ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ file,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ q)\{\ vec<Lit>\ as;\ as.push(p);\ as.push(q);\ toDimacs(file,\ as);\ \}}
\DoxyCodeLine{00399\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \ \ Solver::toDimacs\ \ \ \ \ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ file,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ p,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ q,\ \mbox{\hyperlink{struct_minisat_1_1_lit}{Lit}}\ r)\{\ vec<Lit>\ as;\ as.push(p);\ as.push(q);\ as.push(r);\ toDimacs(file,\ as);\ \}}
\DoxyCodeLine{00400\ }
\DoxyCodeLine{00401\ }
\DoxyCodeLine{00402\ \textcolor{comment}{//=================================================================================================}}
\DoxyCodeLine{00403\ \textcolor{comment}{//\ Debug\ etc:}}
\DoxyCodeLine{00404\ }
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ \textcolor{comment}{//=================================================================================================}}
\DoxyCodeLine{00407\ \}}
\DoxyCodeLine{00408\ }
\DoxyCodeLine{00409\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
